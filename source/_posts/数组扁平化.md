---
title: 数组扁平化
date: 2017-03-31 19:34:18
tags: 
- 数组扁平化
categories: 
- JavaScript应用
---

用`Array.concat()`和`Array.reduce()`实现数组扁平化。

<!-- more -->

# 一般实现

```javascript
function flatArr(arr) {
    var len = arr.length, i, newArr = [];
    for (i=0; i<len; i++) {
        if (typeof(arr[i]) === "number"){
            newArr.push(arr[i]);
        } else {
            newArr = newArr.concat(flatArr(arr[i]));
        }
    }
    return newArr;
}
```

# ES6实现 -- reduce

[Array.reduce()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)

```javascript
let list1 = [[0, 1], [2, 3], [4, 5]];
let list2 = [0, [1, [2, [3, [4, [5, [6]]]]]]];

const flatten = (arr) => {
    return arr.reduce(
        (acc, val) => {
            return acc.concat(Array.isArray(val) ? flatten(val) : val)
        }, []
    );
};

flatten(list1); 
// [0, 1, 2, 3, 4, 5]
flatten(list2); 
// [ 0, 1, 2, 3, 4, 5, 6 ]
```